import{C as y,u as W}from"./utilities-DfB9nafN.js";import{c as s,A as b,d as w,g as p,o as c,j as _,w as m,e as O,l as I,i as o,t as f,k as v,m as R,p as T,q as M,s as C,v as P,Q,u as q,r as F,a as S}from"./index-Ca0CArsu.js";var G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-pdf",theme:"outlined"};const J=G;function V(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){X(a,n,t[n])})}return a}function X(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var D=function(e,t){var r=V({},e,t.attrs);return s(b,V({},r,{icon:J}),null)};D.displayName="FilePdfOutlined";D.inheritAttrs=!1;const Y=D;var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"}}]},name:"file-word",theme:"outlined"};const K=Z;function x(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){ee(a,n,t[n])})}return a}function ee(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var z=function(e,t){var r=x({},e,t.attrs);return s(b,x({},r,{icon:K}),null)};z.displayName="FileWordOutlined";z.inheritAttrs=!1;const B=z;var te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"};const ne=te;function H(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){ae(a,n,t[n])})}return a}function ae(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var $=function(e,t){var r=H({},e,t.attrs);return s(b,H({},r,{icon:ne}),null)};$.displayName="ProfileOutlined";$.inheritAttrs=!1;const re=$;var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const oe=le;function L(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){ce(a,n,t[n])})}return a}function ce(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var j=function(e,t){var r=L({},e,t.attrs);return s(b,L({},r,{icon:oe}),null)};j.displayName="UploadOutlined";j.inheritAttrs=!1;const U=j,se={class:"upload-card"},ie={class:"upload-card__info-row"},ue=o("span",null,"Имя файла:",-1),de={class:"upload-card__info-row"},pe=o("span",null,"Класс:",-1),fe={class:"upload-card__info-row"},me=o("span",null,"Вероятность:",-1),_e={class:"upload-card__info-row"},ve=o("span",null,"Дата загрузки:",-1),he={style:{"text-align":"right"}},Oe={key:1,style:{"text-align":"right"}},ge={key:0,class:"upload-card__can-upload"},be=w({__name:"DocumentCard",props:{cardData:{}},setup(a){const e=a,t=n=>{if(!n)return;const u=window.URL.createObjectURL(new Blob([n])),d=document.createElement("a");d.href=u,d.setAttribute("download",e.cardData.filename),document.body.appendChild(d),d.click()},r=n=>{switch(n.split(".").slice(-1)[0]){case"docx":return B;case"doc":return B;case"pdf":return Y;case"rtf":return re;case"txt":return C;default:return C}};return(n,u)=>{const d=p("a-tooltip"),i=p("a-card");return c(),_("div",se,[s(i,{hoverable:!!n.cardData.fileBinary,"body-style":{display:"flex","flex-direction":"column","align-items":"center"},onClick:u[0]||(u[0]=l=>t(n.cardData.fileBinary))},{default:m(()=>[(c(),O(I(r(n.cardData.filename)),{class:"upload-card__icon"})),o("div",ie,[ue,o("span",null,f(n.cardData.filename),1)]),o("div",de,[pe,o("span",null,f(v(y)[n.cardData.predicted_class]),1)]),o("div",fe,[me,o("span",null,f(n.cardData.probabilities),1)]),o("div",_e,[ve,o("span",null,f(n.cardData.uploadDate),1)]),(c(!0),_(R,null,T(n.cardData.additionalData,(l,g)=>(c(),_("div",{class:"upload-card__info-row",key:g},[o("span",null,f(g)+":",1),l.length>50?(c(),O(d,{key:0,placement:"right"},{title:m(()=>[P(f(l),1)]),default:m(()=>[o("span",he,[P(f(l.slice(0,80))+"... ",1),s(v(Q))])]),_:2},1024)):(c(),_("span",Oe,f(l),1))]))),128)),n.cardData.fileBinary?(c(),_("div",ge,[s(v(U))])):M("",!0)]),_:1},8,["hoverable"])])}}}),ye=w({__name:"EmptyFiles",setup(a){const e=q();return(t,r)=>{const n=p("a-button"),u=p("a-result");return c(),O(u,{title:"Архив результатов пуст. Загрузите файлы"},{icon:m(()=>[s(v(U))]),extra:m(()=>[s(n,{type:"primary",size:"large",onClick:r[0]||(r[0]=d=>v(e).push("/"))},{default:m(()=>[P("Перейти к странице загрузки")]),_:1})]),_:1})}}}),Pe={key:0,class:"results"},we={key:1,class:"results__wrap"},De={class:"result__filters"},je=w({__name:"ResultsView",setup(a){const{data:e,isFinished:t}=W("test-db",[]),r=F(""),n=F(null),u=S(()=>{let i=[...e.value].reverse();return r.value&&(i=i.filter(l=>l.filename.toLowerCase().includes(r.value.toLowerCase()))),n.value&&(i=i.filter(l=>l.predicted_class===n.value)),i}),d=S(()=>{const i=Object.keys(y).map(l=>({value:l,label:y[l]}));return[{value:null,label:"Все"},...i]});return(i,l)=>{const g=p("a-input"),k=p("a-select"),A=p("a-list-item"),N=p("a-skeleton"),E=p("a-list");return v(t)?(c(),_("div",Pe,[v(e).length?(c(),_("div",we,[o("div",De,[s(g,{value:r.value,"onUpdate:value":l[0]||(l[0]=h=>r.value=h),placeholder:"Поиск по названию"},null,8,["value"]),s(k,{value:n.value,"onUpdate:value":l[1]||(l[1]=h=>n.value=h),size:"large",options:d.value},null,8,["value","options"])]),s(E,{grid:{xs:1,sm:2,md:2,lg:2,xl:2,xxl:3},"data-source":u.value},{renderItem:m(({item:h})=>[h?(c(),O(A,{key:0},{default:m(()=>[s(be,{"card-data":h},null,8,["card-data"])]),_:2},1024)):(c(),O(N,{key:1}))]),_:1},8,["data-source"])])):(c(),O(ye,{key:0}))])):M("",!0)}}});export{je as default};
