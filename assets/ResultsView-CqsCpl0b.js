import{C as y,A as E,u as W}from"./utilities-Bxy2Ex_A.js";import{c as s,A as b,d as P,g as p,o as c,j as v,w as m,e as O,l as T,i as o,t as f,k as _,m as R,p as Q,q as A,s as j,v as w,Q as q,u as G,r as C,a as F}from"./index-C2UZN4gn.js";var J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-pdf",theme:"outlined"};const X=J;function x(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){Y(n,a,t[a])})}return n}function Y(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var D=function(e,t){var r=x({},e,t.attrs);return s(b,x({},r,{icon:X}),null)};D.displayName="FilePdfOutlined";D.inheritAttrs=!1;const Z=D;var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"}}]},name:"file-word",theme:"outlined"};const ee=K;function V(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){te(n,a,t[a])})}return n}function te(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var z=function(e,t){var r=V({},e,t.attrs);return s(b,V({},r,{icon:ee}),null)};z.displayName="FileWordOutlined";z.inheritAttrs=!1;const B=z;var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"};const ne=ae;function H(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){re(n,a,t[a])})}return n}function re(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var $=function(e,t){var r=H({},e,t.attrs);return s(b,H({},r,{icon:ne}),null)};$.displayName="ProfileOutlined";$.inheritAttrs=!1;const le=$;var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const ce=oe;function L(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){se(n,a,t[a])})}return n}function se(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var S=function(e,t){var r=L({},e,t.attrs);return s(b,L({},r,{icon:ce}),null)};S.displayName="UploadOutlined";S.inheritAttrs=!1;const M=S,ie={class:"upload-card"},ue={style:{display:"flex","flex-direction":"column",width:"100%"}},de={class:"upload-card__info-row"},pe=o("span",null,"Имя файла:",-1),fe={class:"upload-card__info-row"},_e=o("span",null,"Класс:",-1),me={class:"upload-card__info-row"},ve=o("span",null,"Вероятность:",-1),he={class:"upload-card__info-row"},Oe=o("span",null,"Дата загрузки:",-1),ge={style:{"text-wrap":"nowrap"}},be={style:{"text-align":"right"}},ye={key:1,style:{"text-align":"right"}},we={key:0,class:"upload-card__can-upload"},Pe=P({__name:"DocumentCard",props:{cardData:{}},setup(n){const e=n,t=a=>{if(!a)return;const u=window.URL.createObjectURL(new Blob([a])),d=document.createElement("a");d.href=u,d.setAttribute("download",e.cardData.filename),document.body.appendChild(d),d.click()},r=a=>{switch(a.split(".").slice(-1)[0]){case"docx":return B;case"doc":return B;case"pdf":return Z;case"rtf":return le;case"txt":return j;default:return j}};return(a,u)=>{const d=p("a-tooltip"),i=p("a-card");return c(),v("div",ie,[s(i,{hoverable:!!a.cardData.fileBinary,"body-style":{display:"flex","flex-direction":"column","align-items":"center"},onClick:u[0]||(u[0]=l=>t(a.cardData.fileBinary))},{default:m(()=>[(c(),O(T(r(a.cardData.filename)),{class:"upload-card__icon"})),o("div",ue,[o("div",de,[pe,o("span",null,f(a.cardData.filename),1)]),o("div",fe,[_e,o("span",null,f(_(y)[a.cardData.predicted_class]),1)]),o("div",me,[ve,o("span",null,f(a.cardData.probabilities),1)]),o("div",he,[Oe,o("span",null,f(a.cardData.uploadDate),1)]),(c(!0),v(R,null,Q(a.cardData.additionalData,(l,g)=>(c(),v("div",{class:"upload-card__info-row",key:g},[o("span",ge,f(_(E)[g])+":",1),l.length>50?(c(),O(d,{key:0,placement:"right"},{title:m(()=>[w(f(l),1)]),default:m(()=>[o("span",be,[w(f(l.slice(0,80))+"... ",1),s(_(q))])]),_:2},1024)):(c(),v("span",ye,f(l),1))]))),128))]),a.cardData.fileBinary?(c(),v("div",we,[s(_(M))])):A("",!0)]),_:1},8,["hoverable"])])}}}),De=P({__name:"EmptyFiles",setup(n){const e=G();return(t,r)=>{const a=p("a-button"),u=p("a-result");return c(),O(u,{title:"Архив результатов пуст. Загрузите файлы"},{icon:m(()=>[s(_(M))]),extra:m(()=>[s(a,{type:"primary",size:"large",onClick:r[0]||(r[0]=d=>_(e).push("/"))},{default:m(()=>[w("Перейти к странице загрузки")]),_:1})]),_:1})}}}),ze={key:0,class:"results"},$e={key:1,class:"results__wrap"},Se={class:"result__filters"},Fe=P({__name:"ResultsView",setup(n){const{data:e,isFinished:t}=W("test-db",[]),r=C(""),a=C(null),u=F(()=>{let i=[...e.value].reverse();return r.value&&(i=i.filter(l=>`${l.filename} ${l.additionalData?Object.values(l.additionalData).join(" "):""}`.toLowerCase().includes(r.value.toLowerCase()))),a.value&&(i=i.filter(l=>l.predicted_class===a.value)),i}),d=F(()=>{const i=Object.keys(y).map(l=>({value:l,label:y[l]}));return[{value:null,label:"Все"},...i]});return(i,l)=>{const g=p("a-input"),U=p("a-select"),I=p("a-list-item"),N=p("a-skeleton"),k=p("a-list");return _(t)?(c(),v("div",ze,[_(e).length?(c(),v("div",$e,[o("div",Se,[s(g,{value:r.value,"onUpdate:value":l[0]||(l[0]=h=>r.value=h),placeholder:"Поиск"},null,8,["value"]),s(U,{value:a.value,"onUpdate:value":l[1]||(l[1]=h=>a.value=h),size:"large",options:d.value},null,8,["value","options"])]),s(k,{grid:{xs:1,sm:2,md:2,lg:2,xl:2,xxl:3},"data-source":u.value},{renderItem:m(({item:h})=>[h?(c(),O(I,{key:0},{default:m(()=>[s(Pe,{"card-data":h},null,8,["card-data"])]),_:2},1024)):(c(),O(N,{key:1}))]),_:1},8,["data-source"])])):(c(),O(De,{key:0}))])):A("",!0)}}});export{Fe as default};
